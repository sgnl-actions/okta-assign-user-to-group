name: okta-assign-user-to-group
description: Assign an Okta user to a group for access management

# Input parameters for web form generation
inputs:
  userId:
    type: text
    description: The Okta user ID to assign
    required: true
    validation:
      min: 1
      max: 100

  groupId:
    type: text
    description: The Okta group ID to assign the user to
    required: true
    validation:
      min: 1
      max: 100

  oktaDomain:
    type: text
    description: The Okta domain (e.g., example.okta.com)
    required: true
    validation:
      min: 1
      max: 100
      pattern: '^[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?\.okta(\.com|\.eu|\.au|\.jp)?$'

# Required secrets (configured at deployment time)
secrets:
  - OKTA_API_TOKEN

# Expected output structure
outputs:
  userId:
    type: text
    description: The user ID that was assigned

  groupId:
    type: text
    description: The group ID the user was assigned to

  assigned:
    type: boolean
    description: Whether the user was successfully assigned to the group

  oktaDomain:
    type: text
    description: The Okta domain where the action was performed

  assignedAt:
    type: datetime
    description: When the user was assigned to the group (ISO 8601)

# Runtime configuration
runtime:
  type: nodejs-22
  timeout: 30s
  memory: 128Mi